<div class="loading-spinner spin-s" ng-hide="venue != null"></div>
<ul id="venue-list" class="list-group" ng-show="venue != null">
    <li class="row list-group-item">
        <div class="col-xs-12 text">
            <h3 class="col-xs list-group-item-heading">{{ venue.name }}</h3>
            <p class="list-group-item-text" ng-hide="venue.description == ''">{{ venue.description | characters:300 }}</p>
            <p class="list-group-item-text address" ng-hide="venue.address == ''">{{ venue.address }}</p>
        </div>
    </li>

    <li class="row list-group-item">
        <h3 class="above-col list-group-item-heading">Ratings summary</h3>
        <div class="col-xs-2">
            <rating-stats ng-model="venue.totalRating" ratings-count="{{ ratings.length }}"></rating-stats>
        </div>
        <div class="col-xs-10">
            <ul class="star-rating-details">
                <li class="row" ng-repeat="i in [5,4,3,2,1]">
                    <div class=" text col-xs-2"><ng-pluralize count="i" when="{'0': 'No star', 'one': '1 star', 'other': '{} stars'}"></ng-pluralize></div>
                    <div class="col-xs-10">
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" aria-valuenow="{{ ratingStats[i].percent }}" aria-valuemin="0" aria-valuemax="100" ng-style="{width: (ratingStats[i].percent + '%')}"></div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </li>
    
    <li class="row list-group-item">
        <div class="col-xs-12">
            <h3 class="list-group-item-heading">Outing</h3>
            <p>todo: Info about the outing OR possibility to vote.</p>
        </div>
    </li>

    <li class="row list-group-item" ng-show="ratings != null">
        <h3 class="above-col list-group-item-heading">All {{ ratings.length }} ratings</h3>

        <div class="row rating-detail" ng-repeat="rating in ratings">
            <div class="col-xs-2 info">
                <rating-stats ng-model="rating.value"></rating-stats>
            </div>
            <div class="col-xs-10 text">
                <p>{{ rating.text }}</p>
                <p>{{ rating.userId }}, on {{ rating.createdOn |date:'medium' }}</p>
            </div>
        </div>
    </li>
</ul>
<div class="loading-spinner spin-s" ng-show="venue != null && venue.totalRating != null && ratings == null"></div>
